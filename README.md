## Мессенджер

Приложение, позволяющее переписываться с собеседником на любом расстоянии друг от друга.

## Руководство по эксплуатации (для тестов ниже)

- В корне проекта создаем файл .env
- В него добавляем переменные ```DB_HOST```, ```DB_PORT```, ```DB_USER```, ```DB_PASS```, ```DB_NAME``` и ```MODE```
- Сохраняем и далее скачиваем все пакеты, которые перечислены в requirements.txt
- Переходим в каталог нашего проекта через терминал и вводим комманду
```uvicorn main:app```
- Довольствуемся результатом

## Документация

`auth`

Каталог с файлами для создания access и refresh токена для аутентификации.
Также содержит функции для этой самой аутентификации.

`certs`

Каталог с приватным и публичным ключами, так как алгоритм RS256.

`database`

Каталог с подключением к бд и моделями бд.

`static`

Внутри файл с иконкой.

`templates`

Каталог с html-страницами и файлом ```router.py```
В файле идет подключение всех этих html-страниц и взаимодействие с базой данных.
Именно в нем реализуется взаимодействие с вебсокетами.

`tests & pytest.ini`

Внутри файл с тестами, файл для получения переменных окружения и .test.env (создайте его).

Чтобы запустить тесты необходимо:
- В database/database.py убрать комментарий с декоратора
- Создать .test.env для тестовой базы данных (укажите MODE=TEST)
- Раскомментить импорты из .test.env и закомментить .env
- Запускать тесты с помощью команды: pytest -k 'test_name'

В pytest.ini конфигурация для pytest

`config.py`

Получение переменных окружения из ```.env```
Также имеется класс с настройками для JWT и бд.

`main.py`

Основной файл с созданием приложения, корсами, подключением роутеров и функциями для регистрации и поиска

`Dockerfile & Procfile`

Файлы для деплоя на https://render.com/

## Ссылочка

Ссылочка есть, вот она:  https://messenger-eiv7.onrender.com
Проблема в том, что у меня может слететь платный тариф, и сайт не будет доступен.

Можете распространять код, делать с ним что угодно, если будут вопросы, то вот почта:
```inksne@gmail.com```